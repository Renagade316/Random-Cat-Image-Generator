<!DOCTYPE html>
<html>
    <head>
        <title>Random Cat Image Generator</title>
        <style>
            div {
                height: 400px;
                width: 400px;
                border: solid;
            }

            img {
            height: 400px;
            width: 400px;
            }
        </style>
    </head>
    <body>
        <h1> Code Challenge: Cat API</h1>   
        <p>Click the button to display a random cat image </p>
        <button id='btn'>Click me</button>
        <br />
        <br />
        <div id="img-container"></div>
        <script>
            async function getCatImage(img) {
            let response = await fetch('https://api.thecatapi.com/v1/images/search')
            if (response.ok) {
                let data = await response.json()
                console.log(data)
                let imgURL =  await data[0].url
                console.log(imgURL)
                img.src = imgURL
            }
            else {
                alert(`Something went wrong ${response.status}`)
            }
            }
            let img = document.createElement('img')
            div = document.querySelector("div")
            div.appendChild(img)
            img.alt = 'Cat Image'
            const button = document.querySelector("#btn")
            button.addEventListener('click', ()=>{getCatImage(img)})
        </script>
    </body>
</html>